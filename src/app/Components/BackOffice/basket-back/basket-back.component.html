<div class="container">
    <div class="content-right">
  
      <!-- Bouton pour cr√©er un nouveau panier -->
      <button class="create-basket-btn" (click)="createNewBasket()" [disabled]="!userId">
        Create a new basket
      </button>
  
      <h3>User's baskets</h3>
  
      <label for="userIdInput">User ID :</label>
      <input type="number" [(ngModel)]="userId" (change)="onUserIdChange()" placeholder="Entrer l'ID utilisateur" />
  
      <br /><br />
  
      <!-- Liste des paniers de l'utilisateur -->
      <table class="basket-table">
        <thead>
          <tr>
            <th>Creation date</th>
            <th>Modification date</th>
            <th>Validation Date</th>
            <th>Status</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let basket of baskets">
            <td>{{ basket.dateCreation ? (basket.dateCreation | date) : 'Date not available' }}</td>
            <td>{{ basket.dateModification ? (basket.dateModification | date) : 'Date not available' }}</td>
            <td>{{ basket.dateValidation ? (basket.dateValidation | date) : 'Date not available' }}</td>
            <td>{{ basket.statut || 'Status not available' }}</td>
            <td>{{ basket.total ? (basket.total | currency : '') : 'Total not available' }}</td>
          </tr>
        </tbody>
      </table>
  
      <!-- Liste de tous les paniers -->
      <h4>List of all baskets :</h4>
      <table class="basket-table">
        <thead>
          <tr>
            <th>User ID </th>
            <th>Creation date</th>
            <th>Total</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let basket of allBaskets">
            <td>{{ basket.userId }}</td>
            <td>{{ basket.dateCreation ? (basket.dateCreation | date) : 'Date non disponible' }}</td>
            <td>{{ basket.total ? (basket.total | currency : '') : 'Total non disponible' }}</td>
            <td>
              <div class="button-group">
                <button class="action-button" (click)="deleteBasket(basket.id_Basket)" title="Supprimer">
                  üóëÔ∏è
                </button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
  
      <!-- Formulaire de mise √† jour -->
      <div *ngIf="selectedBasket" class="update-form">
        <h4>Edit the basket</h4>
        <form (ngSubmit)="submitUpdate()">
          <label for="dateValidation">Validation date :</label>
          <input type="date" [(ngModel)]="selectedBasket.dateValidation" name="dateValidation" />
  
          <label for="statut">Status :</label>
          <input type="text" [(ngModel)]="selectedBasket.statut" name="statut" placeholder="Statut..." />
  
          <label for="total">Total :</label>
          <input type="number" [(ngModel)]="selectedBasket.total" name="total" step="0.01" placeholder="Montant..." />
  
          <br /><br />
          <button class="create-basket-btn" type="submit">Confirm the update</button>
        </form>
      </div>
  
    </div>
  </div>
  
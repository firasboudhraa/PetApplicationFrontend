<div class="registration-page">
  <div class="container-fluid">
    <div class="row">
      <!-- Left side with gradient and description -->
      <div class="col-lg-6 welcome-section" >
        <div class="welcome-content" >
          <h1 class="welcome-heading">Join Our forreverBuddy</h1>
          <p class="welcome-text">
            Connect, care, and celebrate pets together â€“ join our community today!
          </p>
          <img src="assets/images/logo.png" alt="Logo" class="logo" style="width: 200px; height: auto; margin-left: 100px; margin-top: 20px;">         
          <div class="features">
            <div class="feature">
              <i class="fas fa-user-md feature-icon"></i>
              <p class="feature-text">Connect with trusted veterinarians</p>
            </div>
            <div class="feature">
              <i class="fas fa-calendar-check feature-icon"></i>
              <p class="feature-text">Easy appointment scheduling</p>
            </div>
            <div class="feature">
              <i class="fas fa-comments feature-icon"></i>
              <p class="feature-text">Community support & advice</p>
            </div>
            <div class="feature">
              <i class="fas fa-shield-alt feature-icon"></i>
              <p class="feature-text">Verified service providers</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Right side with registration form -->
      <div class="col-lg-6 form-section">
        <div class="form-content">
          <h2 class="form-title">Create Your Account</h2>

          <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
            <!-- Error Message -->
            <div *ngIf="errorMessage" class="alert alert-danger text-center">
              <i class="fas fa-exclamation-circle me-2"></i> {{ errorMessage }}
            </div>

            <!-- Success Message -->
            <div *ngIf="successMessage" class="alert alert-success text-center">
              <i class="fas fa-check-circle me-2"></i> {{ successMessage }}
            </div>

            <div class="row-form">
              <!-- First Name -->
              <div class="form-group">
                <label for="firstName" class="form-label">
                  <i class="fas fa-user me-2 text-pet-primary"></i>First Name
                </label>
                <input
                  type="text"
                  class="form-control"
                  id="firstName"
                  formControlName="firstName"
                  placeholder="Enter first name"
                />
                <div
                  *ngIf="
                    registerForm.get('firstName')?.invalid &&
                    registerForm.get('firstName')?.touched
                  "
                  class="error-feedback"
                >
                  <i class="fas fa-info-circle me-1"></i> First name is required
                </div>
              </div>

              <!-- Last Name -->
              <div class="form-group">
                <label for="lastName" class="form-label">
                  <i class="fas fa-user me-2 text-pet-primary"></i>Last Name
                </label>
                <input
                  type="text"
                  class="form-control"
                  id="lastName"
                  formControlName="lastName"
                  placeholder="Enter last name"
                />
                <div
                  *ngIf="
                    registerForm.get('lastName')?.invalid &&
                    registerForm.get('lastName')?.touched
                  "
                  class="error-feedback"
                >
                  <i class="fas fa-info-circle me-1"></i> Last name is required
                </div>
              </div>
            </div>

            <!-- Email -->
            <div class="form-group">
              <label for="email" class="form-label">
                <i class="fas fa-envelope me-2 text-pet-primary"></i>Email
              </label>
              <input
                type="email"
                class="form-control"
                id="email"
                formControlName="email"
                placeholder="Enter your email"
              />
              <div
                *ngIf="
                  registerForm.get('email')?.invalid &&
                  registerForm.get('email')?.touched
                "
                class="error-feedback"
              >
                <i class="fas fa-info-circle me-1"></i> Valid email is required
              </div>
            </div>

            <!-- Password -->
            <div class="form-group">
              <label for="password" class="form-label">
                <i class="fas fa-lock me-2 text-pet-primary"></i>Password
              </label>
              <input
                type="password"
                class="form-control"
                id="password"
                formControlName="password"
                placeholder="Create a password"
              />
              <div
                *ngIf="
                  registerForm.get('password')?.invalid &&
                  registerForm.get('password')?.touched
                "
                class="error-feedback"
              >
                <i class="fas fa-info-circle me-1"></i> Password must be at
                least 8 characters, contain uppercase, lowercase, number, and special character.
              </div>
            </div>

            <!-- Role -->
            <div class="form-group">
              <label for="role" class="form-label">
                <i class="fas fa-user-tag me-2 text-pet-primary"></i>I am a...
              </label>
              <select class="form-control" id="role" formControlName="role">
                <option value="PET_OWNER">Pet Owner</option>
                <option value="VETERINARIAN">Veterinarian</option>
                <option value="SERVICE_PROVIDER">Pet Service Provider</option>

              </select>
            </div>

            <!-- Submit Button -->
            <div class="form-group mt-4">
              <button
                type="submit"
                class="btn btn-pet-primary w-100 rounded-pill btn-with-icon btn-pulse"
                [disabled]="registerForm.invalid"
              >
                <i class="fa fa-user-plus"></i>
                <span>Sign Up</span>
              </button>
            </div>
          </form>

          <!-- Link to Login -->
          <div class="mt-3 text-center">
            <p>
              Already have an account?
              <a routerLink="/login" class="login-link text-decoration-none">
                Login here
              </a>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



<div class="modal fade show d-block" *ngIf="showModal" tabindex="-1" style="background: rgba(0,0,0,0.5);">
  <div class="modal-dialog modal-sm">
    <div class="modal-content text-center p-4" [ngStyle]="{ 'background-color': modalType === 'success' ? '#e8fbe5' : '#f8d7da' }" style="border-radius: 20px;">
      <div class="modal-body">
        <h5 class="modal-title" [ngStyle]="{ 'color': modalType === 'success' ? '#2f5f36' : '#721c24' }" style="font-size: 1.8rem;">
          {{ modalMessage }}
        </h5>
      </div>
    </div>
  </div>
</div>
